<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TRIX Messenger</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body class="dark">

<!-- LOGIN -->
<div id="loginScreen" class="login-screen">
  <div class="login-box">
    <h2 id="loginTitle">Вход</h2>

    <input id="authUser" placeholder="Имя пользователя" />
    <input id="authPass" type="password" placeholder="Пароль" />
    <input id="authPass2" type="password" placeholder="Повторите пароль" style="display:none" />

    <button id="authBtn">Войти</button>

    <div class="switch-auth" id="switchAuth">
      Нет аккаунта? Зарегистрироваться
    </div>
  </div>
</div>

<!-- APP -->
<div id="app" class="app">

  <!-- SIDEBAR -->
  <div class="sidebar">

    <!-- TOP BAR -->
    <div class="top-bar">
      <button id="menuBtn" class="menu-btn">☰</button>
      <div class="profile-mini">
        <div class="avatar">T</div>
        <div>
          <div id="profileName">User</div>
          <div id="profileUsername" class="username">@username</div>
        </div>
      </div>
    </div>

    <input type="text" id="chatSearch" class="chat-search" placeholder="Поиск" />

    <div id="chatList">
      <div class="chat active" data-chat="TRIX Bot">
        <div class="chat-title">TRIX Bot</div>
        <div class="chat-last" id="last-TRIX Bot">—</div>
        <span class="unread-badge">0</span>
      </div>
    </div>

  </div>

  <!-- CHAT -->
  <div class="chat-area" id="chatArea">
    <div class="chat-header" id="chatHeader">TRIX Bot</div>
    <div class="messages" id="messages"></div>

    <div class="input-area">
      <textarea id="msgInput" placeholder="Сообщение"></textarea>
      <button id="sendBtn">➤</button>
    </div>
  </div>

</div>

<!-- SIDE MENU -->
<div id="sideMenu" class="side-menu">
  <div class="menu-item" id="openProfile">Профиль</div>
  <div class="menu-item" id="openSettings">Настройки</div>
  <div class="menu-item danger" id="logoutBtn">Выйти</div>
</div>

<!-- PROFILE MODAL -->
<div id="profileModal" class="modal">
  <div class="modal-box">
    <h3 id="profileTitle">Профиль</h3>
    <div class="avatar big">T</div>
    <p id="profileInfo"></p>
    <button id="profileCloseBtn" onclick="closeProfile()">Закрыть</button>
  </div>
</div>

<!-- SETTINGS MODAL -->
<div id="settingsModal" class="modal">
  <div class="modal-box">
    <h3 id="settingsTitle">Настройки</h3>

    <label id="themeLabel" style="display:block;margin-top:10px;">Тема</label>
    <select id="themeSelect" style="width:100%;padding:10px;margin-top:6px;">
      <option value="dark">Тёмная</option>
      <option value="light">Светлая</option>
    </select>

    <label id="langLabel" style="display:block;margin-top:12px;">Язык</label>
    <select id="langSelect" style="width:100%;padding:10px;margin-top:6px;">
      <option value="ru">Русский</option>
      <option value="en">English</option>
    </select>

    <label id="usernameLabel" style="display:block;margin-top:12px;">Username</label>
    <input id="newUsernameInput" placeholder="@username2" style="width:100%;padding:10px;margin-top:6px;" />
    <button id="changeUsernameBtn" style="width:100%;margin-top:10px;">Сменить username</button>

    <button id="notifBtn" style="width:100%;margin-top:10px;">Включить уведомления</button>

    <button id="settingsCloseBtn" style="width:100%;margin-top:10px;" onclick="closeSettings()">Закрыть</button>
  </div>
</div>

<!-- Socket.IO MUST be before script.js -->
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
<script src="script.js"></script>

</body>
</html>